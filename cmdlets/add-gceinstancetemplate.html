<!DOCTYPE html>
<html class="google" lang="en">
  <head>
    <meta charset="utf-8">
    <script>
        (function(H){H.className=H.className.replace(/\bgoogle\b/,'google-js')})(document.documentElement)
    </script>
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">
    <meta name="description" content="">

    <link rel="shortcut icon" href="https://cloud.google.com/images/gcp-favicon.ico">

    <title>Add-GceInstanceTemplate</title>
    <script src="//www.google.com/js/google.js"></script>
    <link rel="canonical" href="http://googlecloudplatform.github.io/google-cloud-powershell/cmdlets/add-gceinstancetemplate.html">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en">
    <link rel="stylesheet" href="//www.google.com/css/maia.css">
</head>

  <body>
    <header>
    <div class="maia-header" id="maia-header" role="banner">
        <div class="maia-aux">
            <a href="/google-cloud-powershell/">
                <h1>
                    <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png">&nbsp;Cloud Platform
                </h1>
                <h2>
                    PowerShell
                </h2>
            </a>
        </div>
    </div>
</header>

    
    <div class="maia-nav" id="maia-nav-x" role="navigation">
      <div class="maia-aux">
        <ul>
          <li>
            <a href="/google-cloud-powershell/">Home</a>
          </li>

          <li
              >
            <a href="/google-cloud-powershell/cmdlets/">Reference</a>
          </li>

          <!-- cmdlet-specific pages include the parent product. -->
          
          <li class="active">
            <a href="/google-cloud-powershell/cmdlets/google-compute-engine">Google Compute Engine</a>
          </li>
          

          <!-- product-specific pages. -->
          
        </ul>
      </div>
    </div>
    
    <div id="maia-main" role="main">
      <div class="maia-teleport" id="content">
      <style>
pre {
    white-space: pre-wrap;
}
</style>

<h1>Add-GceInstanceTemplate</h1>
<pre>
NAME
    Add-GceInstanceTemplate
    
SYNOPSIS
    Adds an instance template to Google Compute Engine.
    
SYNTAX
    Add-GceInstanceTemplate [-Project &lt;string&gt;] [-Object] &lt;InstanceTemplate&gt; [&lt;CommonParameters&gt;]
    
    Add-GceInstanceTemplate [-Project &lt;string&gt;] [-Name] &lt;string&gt; [[-MachineType] &lt;string&gt;] [-CanIpForward &lt;SwitchParameter&gt;] [-Description &lt;string&gt;] [-BootDiskImage &lt;Image&gt;] [-ExtraDisk &lt;Disk[]&gt;] [-Disk &lt;AttachedDisk[]&gt;] [-Metadata &lt;IDictionary&gt;] [-Network 
    &lt;string&gt;] [-NoExternalIp &lt;SwitchParameter&gt;] [-Preemptible &lt;SwitchParameter&gt;] [-AutomaticRestart &lt;bool&gt;] [-TerminateOnMaintenance &lt;SwitchParameter&gt;] [-ServiceAccount &lt;ServiceAccount[]&gt;] [-Tag &lt;string[]&gt;] [&lt;CommonParameters&gt;]
    
    
DESCRIPTION
    Adds an instance template to Google Compute Engine. These templates can be used to create managed instance groups.
    

PARAMETERS
    -Project &lt;string&gt;
        The project that will own the instance template.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -Object &lt;InstanceTemplate&gt;
        An instance template object to add to Google Compute Engine.
        
        Required?                    true
        Position?                    0
        Default value                
        Accept pipeline input?       true (ByValue)
        Accept wildcard characters?  false
        
    -Name &lt;string&gt;
        The name of the new instance template.
        
        Required?                    true
        Position?                    0
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -MachineType &lt;string&gt;
        The name of the machine type for this template. Defaults to n1-standard-1.
        
        Required?                    false
        Position?                    1
        Default value                n1-standard-1
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -CanIpForward &lt;SwitchParameter&gt;
        Enables instances to send and receive packets for IP addresses other than their own. Switch on if these instances will be used as an IP gateway or it will be set as the next-hop in a Route resource.
        
        Required?                    false
        Position?                    named
        Default value                False
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -Description &lt;string&gt;
        Human readable description of this instance template.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -BootDiskImage &lt;Image&gt;
        The the image used to create the boot disk. Use Get-GceImage to get one of these.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -ExtraDisk &lt;Disk[]&gt;
        An existing disk to attach. All instances of this template will be able to read this disk. Will attach in read only mode.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -Disk &lt;AttachedDisk[]&gt;
        An AttachedDisk object specifying a disk to attach. Do not specify `-BootDiskImage` or `-BootDiskSnapshot` if this is a boot disk. You can build one using New-GceAttachedDiskConfig.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -Metadata &lt;IDictionary&gt;
        The keys and values of the Metadata of this instance.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -Network &lt;string&gt;
        The name of the network to use. If not specified, it is global/networks/default. This can be a string, or Network object you get from Get-GceNetwork.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -NoExternalIp &lt;SwitchParameter&gt;
        If set, the instances will not have an external ip address.
        
        Required?                    false
        Position?                    named
        Default value                False
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -Preemptible &lt;SwitchParameter&gt;
        If set, the instances will be preemptible, and AutomaticRestart will be false.
        
        Required?                    false
        Position?                    named
        Default value                False
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -AutomaticRestart &lt;bool&gt;
        If set, the instances will not restart when shut down by Google Compute Engine.
        
        Required?                    false
        Position?                    named
        Default value                True
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -TerminateOnMaintenance &lt;SwitchParameter&gt;
        If set, the instances will terminate rather than migrate when the host undergoes maintenance.
        
        Required?                    false
        Position?                    named
        Default value                False
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -ServiceAccount &lt;ServiceAccount[]&gt;
        The ServiceAccount used to specify access tokens. Use New-GceServiceAccountConfig to build one.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    -Tag &lt;string[]&gt;
        A tag of this instance.
        
        Required?                    false
        Position?                    named
        Default value                
        Accept pipeline input?       false
        Accept wildcard characters?  false
        
    &lt;CommonParameters&gt;
        This cmdlet supports the common parameters: Verbose, Debug,
        ErrorAction, ErrorVariable, WarningAction, WarningVariable,
        OutBuffer, PipelineVariable, and OutVariable. For more information, see 
        about_CommonParameters (http://go.microsoft.com/fwlink/?LinkID=113216). 
    
INPUTS
    Google.Apis.Compute.v1.Data.InstanceTemplate
        An instance template object to add to Google Compute Engine.
    
    
OUTPUTS
    Google.Apis.Compute.v1.Data.InstanceTemplate
    
    
    ----------  EXAMPLE 1  ----------
    
    PS C:\&gt; $image = Get-GceImage -Family &quot;window-2012-r2&quot;
    PS C:\&gt; Add-GceInstanceTemplate &quot;my-template&quot; -BootDiskImage $image
    
    
    Creates a new windows 2012 instance template with default settings.
    
    ----------  EXAMPLE 2  ----------
    
    PS C:\&gt; $image = Get-GceImage -Family &quot;window-2012-r2&quot;
    PS C:\&gt; $serviceAccount = New-GceServiceAccountConfig default -BigQuery
    PS C:\&gt; Add-GceInstanceTemplate $name &quot;n1-standard-4&quot; -BootDiskImage $image `
                -ServiceAccount $serviceAccount
    
    
    
    
RELATED LINKS



</pre>

      </div>
    </div>
    <footer>
    <div id="maia-signature"></div>
        <div class="maia-footer" id="maia-footer">
            <div id="maia-footer-global">
                <div class="maia-aux">
                <ul>
                    <li>
                        <a href="//www.google.com/">Google</a>
                    </li>
                    <li>
                        <a href="//www.google.com/intl/en/about/">About Google</a>
                    </li>
                    <li>
                        <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
                    </li>
                    <li>
                        <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

    <script src="//www.google.com/js/maia.js">
    </script>
</body>
</html>
